generator client {
  provider = "prisma-client-js"
}

generator erd {
  provider = "prisma-erd-generator"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Client {
  id         String    @id @default(cuid())
  name       String
  email      String
  password   String
  photo      String?
  location   Location? @relation(fields: [locationId], references: [id])
  locationId String
  createdAt  DateTime  @default(now())
  text       String
  comment    Comment[]
}

model Provider {
  id          String    @id @default(cuid())
  name        String
  email       String
  password    String
  photo       String
  service     Service?  @relation(fields: [serviceId], references: [id])
  serviceId   String?
  location    Location? @relation(fields: [locationId], references: [id])
  locationId  String?
  createdAt   DateTime  @default(now())
  text        String
  starAverage Float
  medals      Medals[]
  comment     Comment[]
}

model Location {
  id       String     @id @default(cuid())
  city     String
  client   Client[]
  provider Provider[]
}

model Service {
  id       String     @id @default(cuid())
  type     String
  provider Provider[]
}

model Comment {
  id         String    @id @default(cuid())
  stars      Int
  text       String
  client     Client?   @relation(fields: [clientId], references: [id])
  clientId   String?
  provider   Provider? @relation(fields: [providerId], references: [id])
  providerId String?
}

model Medals {
  id         String    @id @default(cuid())
  type       String
  provider   Provider? @relation(fields: [providerId], references: [id])
  providerId String?
}
